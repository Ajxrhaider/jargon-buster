<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jargon Buster</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- â–‘â–‘ HEADER â–‘â–‘ -->
  <header class="header">
    <div class="logo">
      <span class="logo-icon">âš¡</span>
      <span class="logo-text">Jargon<strong>Buster</strong></span>
    </div>
    <button class="settings-btn" id="toggleSettings" title="API Settings">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
      </svg>
    </button>
  </header>

  <!-- â–‘â–‘ API KEY PANEL â–‘â–‘ -->
  <section class="api-panel" id="apiPanel">
    <label class="field-label" for="apiKeyInput">Hugging Face Access Token</label>
    <div class="key-input-row">
      <input
        type="password"
        id="apiKeyInput"
        class="text-input"
        placeholder="hf_â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
        autocomplete="off"
        spellcheck="false"
      />
      <button class="save-btn" id="saveKeyBtn">Save</button>
    </div>
    <div class="key-status" id="keyStatus">
      <span class="status-dot" id="statusDot"></span>
      <span id="statusText">No key saved</span>
    </div>
    <p class="api-hint">
      Get a free token at <a href="https://huggingface.co/settings/tokens" target="_blank">huggingface.co</a>
    </p>
  </section>

  <!-- â–‘â–‘ DIVIDER â–‘â–‘ -->
  <div class="divider"></div>

  <!-- â–‘â–‘ MAIN AREA â–‘â–‘ -->
  <main class="main">

    <div class="input-section">
      <label class="field-label" for="jargonInput">
        Paste or select text to decode
        <span class="selection-badge" id="selectionBadge">ðŸ“‹ auto-filled from page</span>
      </label>
      <textarea
        id="jargonInput"
        class="jargon-textarea"
        placeholder="Paste your confusing text hereâ€¦&#10;&#10;e.g. "Amortization is the process of spreading out a loan into a series of fixed payments over timeâ€¦""
        rows="5"
        spellcheck="false"
      ></textarea>
      <div class="char-count" id="charCount">0 characters</div>
    </div>

    <button class="bust-btn" id="bustBtn">
      <span class="btn-icon">âš¡</span>
      <span class="btn-label">Bust the Jargon</span>
      <span class="spinner" id="spinner"></span>
    </button>

    <!-- â–‘â–‘ ERROR â–‘â–‘ -->
    <div class="error-box" id="errorBox" hidden>
      <span class="error-icon">âš </span>
      <span id="errorMsg">Something went wrong.</span>
    </div>

    <!-- â–‘â–‘ RESULT â–‘â–‘ -->
    <div class="result-card" id="resultCard" hidden>
      <div class="result-header">
        <span class="result-label">ELI5 Explanation</span>
        <button class="copy-btn" id="copyBtn" title="Copy to clipboard">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
          </svg>
          <span id="copyLabel">Copy</span>
        </button>
      </div>
      <p class="result-text" id="resultText"></p>
    </div>

  </main>

  <!-- â–‘â–‘ FOOTER â–‘â–‘ -->
  <footer class="footer">
    Powered by <span class="model-tag">facebook/bart-large-cnn</span> via Hugging Face
  </footer>

  <script src="popup.js"></script>
</body>
</html>
